# 🔧 构建修复任务

> **使用方法**: `@EXIFPhotoParamTool/figma/日志.md` + `@任务_构建修复.md`

---

## 执行步骤

### 1️⃣ 分析构建日志

从 `@EXIFPhotoParamTool/figma/日志.md` 中提取：
- ERROR 错误（必须修复）
- WARN 警告（建议修复）
- 文件路径和行号

### 2️⃣ 查知识库

检查 `@知识库.md` 和 `@知识库_中转站（待验证实践效果）.md`：
- 是否有已知解决方案
- 是否是已知避坑点
- 是否需要问专家

### 3️⃣ 修复代码

按优先级修复：
1. 编译错误（ERROR）
2. 类型错误（arkts-xxx）
3. 废弃API警告（deprecated）

### 4️⃣ 验证

修复后检查 lint 错误：
- 无新增错误
- 无遗漏修复

---

## 🚨 常见错误速查

| 错误 | 解决方案 |
|------|---------|
| `arkts-no-destruct-decls` | 解构改为静态导入 |
| `arkts-no-any-unknown` | 添加明确类型 |
| `arkts-no-untyped-obj-literals` | 添加类型注解 |
| `Module has no exported member` | .d.ts 中添加 export |
| `getContext deprecated` | 改用 `this.getUIContext().getHostContext()` |
| `radius is not correct type` | borderRadius 加 vp 单位 |

---

## ⚡ 快捷用法

```
@EXIFPhotoParamTool/figma/日志.md 构建报错，执行 @任务_构建修复.md
```

```
@EXIFPhotoParamTool/figma/日志.md 有3个ERROR，执行 @任务_构建修复.md
```

---

## ⚠️ 注意事项

1. **不运行构建命令** → 告知用户"请在DevEco Studio中Build"
2. **3次失败** → 写入 `@当前问题.md` → 执行 `@任务_问专家.md`
3. **修复后** → 提醒用户重新构建验证

