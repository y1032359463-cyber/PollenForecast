/*
 * Copyright (c) 2025 Huawei Device Co., Ltd.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { StandardCalcKeyboard } from './StandardCalcKeyboard';
import { ScienceCalcKeyboard } from './ScienceCalcKeyboard';
import { CalcConstants, CalculatorType } from '../common/Constant';
import { CalculatorVM } from '../viewmodel/CalculatorVM';
import { BreakpointModel, BreakpointStorage, BreakpointSystem, BreakpointTypeEnum } from '../utils/BreakpointSystem';
import { HistoryUtils, HistoryItem } from '../utils/HistoryUtils';

// Âçé‰∏∫ÂπøÂëäÊ®™ÂπÖÈ´òÂ∫¶Â∏∏Èáè (Âçï‰Ωç: vp)
// Ê†áÂáÜÊ®™ÂπÖ: 32vp(Á¥ßÂáë) / 50vp(Ê†áÂáÜ) / 90vp(Â§ßÂûã)
const AD_BANNER_HEIGHT: number = 50;
// ÂØºËà™Êù°ÂÆâÂÖ®Ë∑ùÁ¶ª
const NAV_SAFE_MARGIN: number = 8;
// ÂéÜÂè≤ËÆ∞ÂΩïÊúÄÂ§ßÊòæÁ§∫Êù°Êï∞
const MAX_HISTORY_DISPLAY: number = 5;

@Entry
@ComponentV2
export struct StandardCalculator {
  @Local text: string = 'Ê†áÂáÜËÆ°ÁÆóÂô®';
  @Local result: string = '0'
  @Local expression: string = '0'
  @Local calculatorType: CalculatorType = CalculatorType.StandardCalc;
  @Local showResultDialog: boolean = false;
  @Param routerModule: NavPathStack = new NavPathStack()
  scrollerResult: Scroller = new Scroller();
  scrollerExpression: Scroller = new Scroller();
  historyScroller: Scroller = new Scroller();
  @Local curBreakpoint: BreakpointStorage = BreakpointSystem.currentBreakpoint
  @Local historyList: HistoryItem[] = HistoryUtils.getHistoryResult();
  // ËèúÂçïÂ±ïÂºÄÁä∂ÊÄÅ: 'none' | 'tool' | 'setting'
  @Local expandedMenu: string = 'none';
  // ËèúÂçïÂΩìÂâçÂ±ÇÁ∫ß: 'main' | 'tool' | 'setting'
  @Local menuLevel: string = 'main';
  // ËèúÂçïÊåâÈíÆÂä®ÁîªÁä∂ÊÄÅ
  @Local menuBtnScale: number = 1;
  @Local menuBtnRotate: number = 0;
  // ËèúÂçïÈù¢ÊùøÊòæÁ§∫Áä∂ÊÄÅ - ‰ΩøÁî® bindSheet
  @Local showMenuSheet: boolean = false;
  // Âç°ÁâáÂÖ•Âú∫Âä®ÁîªÁä∂ÊÄÅ
  @Local cardAnimateIn: boolean = false;

  aboutToAppear(): void {
    CalculatorVM.setStack(this.routerModule);
    BreakpointSystem.register(this.getUIContext())
  }

  aboutToDisappear(): void {
    BreakpointSystem.unregister()
  }

  build() {
    Column() {
      this.HeaderInfo();
      // ÂéÜÂè≤ËÆ∞ÂΩïÊòæÁ§∫Âå∫Âüü - Âà©Áî®ÂéüTabÊ†èÁ©∫Èó¥
      this.HistoryDisplayBuilder();
      this.ResultBuilder();
      // ÈîÆÁõòÂå∫Âüü - ‰ΩøÁî®layoutWeightËá™ÈÄÇÂ∫îÂ°´Êª°Ââ©‰ΩôÁ©∫Èó¥
      Column() {
        if (this.calculatorType === CalculatorType.StandardCalc) {
          StandardCalcKeyboard({
            changeResult: (result, expression) => {
              this.result = result || ' ';
              this.expression = expression;
              // Âà∑Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®
              this.historyList = HistoryUtils.getHistoryResult();
              // ÊªöÂä®Âà∞ÊúÄÊñ∞ËÆ∞ÂΩï
              this.historyScroller.scrollEdge(Edge.Bottom);
            }
          })
        } else {
          ScienceCalcKeyboard({
            result: this.result,
            expression: this.expression,
            changeResult: (result, expression) => {
              this.result = result || ' ';
              this.expression = expression;
              // Âà∑Êñ∞ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®
              this.historyList = HistoryUtils.getHistoryResult();
              // ÊªöÂä®Âà∞ÊúÄÊñ∞ËÆ∞ÂΩï
              this.historyScroller.scrollEdge(Edge.Bottom);
            },
          });
        }
      }
      .layoutWeight(1)
      .width(CalcConstants.FULL_PERCENT)

      // Âçé‰∏∫ÂπøÂëäÊ®™ÂπÖÂç†‰ΩçÂå∫Âüü (‰øùÊåÅ‰∏éÂØºËà™Êù°ÂÆâÂÖ®Ë∑ùÁ¶ª)
      this.AdBannerPlaceholder();
    }
    .height(CalcConstants.FULL_PERCENT)
    .padding({ left: 8, right: 8 })
  }

  // ÂπøÂëäÊ®™ÂπÖÂç†‰ΩçÁªÑ‰ª∂ (‰øùÊåÅ‰∏éÂ∫ïÈÉ®ÂØºËà™Êù°ÂÆâÂÖ®Ë∑ùÁ¶ª)
  @Builder
  AdBannerPlaceholder() {
    Row() {
      Text('ÂπøÂëä‰Ωç')
        .fontSize(14)
        .fontColor($r('sys.color.font_tertiary'))
    }
    .width(CalcConstants.FULL_PERCENT)
    .height(AD_BANNER_HEIGHT)
    .backgroundColor($r('sys.color.background_secondary'))
    .borderRadius(8)
    .justifyContent(FlexAlign.Center)
    .margin({ top: 8, bottom: NAV_SAFE_MARGIN })
  }

  // ÂéÜÂè≤ËÆ∞ÂΩïÂÆûÊó∂ÊòæÁ§∫Âå∫Âüü
  @Builder
  HistoryDisplayBuilder() {
    Column() {
      if (this.historyList.length > 0) {
        Scroll(this.historyScroller) {
          Column({ space: 4 }) {
            ForEach(this.historyList.slice(-MAX_HISTORY_DISPLAY), (item: HistoryItem) => {
              Row() {
                Text(item.value)
                  .fontSize(14)
                  .fontColor($r('sys.color.font_secondary'))
                  .maxLines(1)
                  .textOverflow({ overflow: TextOverflow.Ellipsis })
              }
              .width(CalcConstants.FULL_PERCENT)
              .justifyContent(FlexAlign.End)
              .padding({ left: 16, right: 16 })
            }, (item: HistoryItem) => item.id.toString())
          }
          .width(CalcConstants.FULL_PERCENT)
        }
        .scrollBar(BarState.Off)
        .edgeEffect(EdgeEffect.None)
        .width(CalcConstants.FULL_PERCENT)
        .height(CalcConstants.FULL_PERCENT)
      } else {
        // Á©∫Áä∂ÊÄÅÊèêÁ§∫
        Row() {
          Text('ÊöÇÊó†ÂéÜÂè≤ËÆ∞ÂΩï')
            .fontSize(12)
            .fontColor($r('sys.color.font_tertiary'))
        }
        .width(CalcConstants.FULL_PERCENT)
        .height(CalcConstants.FULL_PERCENT)
        .justifyContent(FlexAlign.Center)
      }
    }
    .width(CalcConstants.FULL_PERCENT)
    .height(80)
    .backgroundColor($r('sys.color.background_tertiary'))
    .borderRadius(12)
    .padding({ top: 8, bottom: 8 })
    .margin({ bottom: 8 })
  }

  // ==================== Âç°ÁâáÂºèËèúÂçïÈù¢Êùø Builder ====================
  // ÂçäÊ®°ÊÄÅÂç°ÁâáÈù¢ÊùøÂÜÖÂÆπ - ‰∏âÁßçÂç°ÁâáÂ∏ÉÂ±Ä
  @Builder
  MenuSheetBuilder() {
    Column() {
      // È°∂ÈÉ®ÊãñÊãΩÊåáÁ§∫Êù°
      Row() {
        Column()
          .width(40)
          .height(4)
          .backgroundColor($r('sys.color.font_quaternary'))
          .borderRadius(2)
      }
      .width('100%')
      .justifyContent(FlexAlign.Center)
      .padding({ top: 8, bottom: 16 })

      // Âç°ÁâáÁΩëÊ†ºÂ∏ÉÂ±Ä
      Column({ space: 12 }) {
        // Á¨¨‰∏ÄË°å: ÂéÜÂè≤ËÆ∞ÂΩïÂ§ßÂç°Áâá (9:16 ÊØî‰æãÔºåÂç†‰∏ªË¶ÅÈù¢ÁßØ)
        this.HistoryCardBuilder()

        // Á¨¨‰∫åË°å: Â∑•ÂÖ∑ÁÆ±Âç°Áâá + ËÆæÁΩÆÂç°Áâá
        Row({ space: 12 }) {
          // Â∑•ÂÖ∑ÁÆ±Áü©ÂΩ¢Âç°Áâá
          this.ToolboxCardBuilder()
          // ËÆæÁΩÆÈïøÊù°Âç°Áâá
          this.SettingCardBuilder()
        }
        .width('100%')
      }
      .padding({ left: 16, right: 16, bottom: 24 })
    }
    .width('100%')
    .backgroundColor($r('sys.color.background_primary'))
  }

  // ÂéÜÂè≤ËÆ∞ÂΩïÂ§ßÂç°Áâá - 9:16 ÊØî‰æãÔºåÂèØÊªöÂä®ÊòæÁ§∫ÂéÜÂè≤
  @Builder
  HistoryCardBuilder() {
    Column() {
      // Âç°ÁâáÊ†áÈ¢òÊ†è
      Row() {
        Image($r('app.media.ic_history'))
          .width(20)
          .height(20)
          .fillColor($r('sys.color.font_on_primary'))
          .margin({ right: 8 })
        Text('ÂéÜÂè≤ËÆ∞ÂΩï')
          .fontSize(16)
          .fontWeight(FontWeight.Medium)
          .fontColor($r('sys.color.font_on_primary'))
        Blank()
        Text('Êü•ÁúãÂÖ®ÈÉ® ‚Ä∫')
          .fontSize(12)
          .fontColor($r('sys.color.font_on_primary'))
          .opacity(0.8)
          .onClick(() => {
            this.showMenuSheet = false;
            this.routerModule.pushPathByName('HistoryResult', null);
          })
      }
      .width('100%')
      .padding({ left: 16, right: 16, top: 12, bottom: 8 })

      // ÂéÜÂè≤ËÆ∞ÂΩïÂàóË°®
      if (this.historyList.length > 0) {
        Scroll() {
          Column({ space: 8 }) {
            ForEach(this.historyList.slice(-8).reverse(), (item: HistoryItem) => {
              Row() {
                Text(item.value)
                  .fontSize(14)
                  .fontColor($r('sys.color.font_on_primary'))
                  .maxLines(1)
                  .textOverflow({ overflow: TextOverflow.Ellipsis })
                  .opacity(0.9)
              }
              .width('100%')
              .padding({ left: 16, right: 16, top: 6, bottom: 6 })
              .backgroundColor('rgba(255,255,255,0.1)')
              .borderRadius(8)
            }, (item: HistoryItem) => item.id.toString())
          }
          .width('100%')
          .padding({ left: 16, right: 16, bottom: 12 })
        }
        .scrollBar(BarState.Off)
        .edgeEffect(EdgeEffect.Spring)
        .layoutWeight(1)
      } else {
        // Á©∫Áä∂ÊÄÅ
        Column() {
          Text('üìù')
            .fontSize(32)
            .margin({ bottom: 8 })
          Text('ÊöÇÊó†ËÆ°ÁÆóÂéÜÂè≤')
            .fontSize(14)
            .fontColor($r('sys.color.font_on_primary'))
            .opacity(0.6)
        }
        .layoutWeight(1)
        .justifyContent(FlexAlign.Center)
      }
    }
    .width('100%')
    .height(280) // Á∫¶ 9:16 ÊØî‰æãÁöÑÈ´òÂ∫¶
    .backgroundColor($r('sys.color.comp_background_emphasize'))
    .borderRadius(20)
    .clip(true)
    .scale({ x: this.cardAnimateIn ? 1 : 0.9, y: this.cardAnimateIn ? 1 : 0.9 })
    .opacity(this.cardAnimateIn ? 1 : 0)
    .translate({ y: this.cardAnimateIn ? 0 : 20 })
    .animation({
      duration: 350,
      curve: Curve.EaseOut,
      delay: 0
    })
  }

  // Â∑•ÂÖ∑ÁÆ±Áü©ÂΩ¢Âç°Áâá - ÁÇπÂáªËøõÂÖ•Â∑•ÂÖ∑È°µ
  @Builder
  ToolboxCardBuilder() {
    Column() {
      // ÂõæÊ†áÂå∫Âüü
      Column() {
        Image($r('app.media.ic_toolbox'))
          .width(32)
          .height(32)
          .fillColor($r('sys.color.font_primary'))
      }
      .width(56)
      .height(56)
      .backgroundColor($r('sys.color.comp_background_tertiary'))
      .borderRadius(16)
      .justifyContent(FlexAlign.Center)
      .margin({ bottom: 12 })

      Text('Â∑•ÂÖ∑ÁÆ±')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)
        .fontColor($r('sys.color.font_primary'))
        .margin({ bottom: 4 })

      Text('Êó•Êúü ¬∑ BMI ¬∑ Ê±áÁéá')
        .fontSize(12)
        .fontColor($r('sys.color.font_secondary'))

      // Â∑•ÂÖ∑ÂõæÊ†áÈ¢ÑËßà
      Row({ space: 8 }) {
        Text('üìÖ').fontSize(16)
        Text('‚öñÔ∏è').fontSize(16)
        Text('üí±').fontSize(16)
        Text('üóìÔ∏è').fontSize(16)
      }
      .margin({ top: 12 })
    }
    .layoutWeight(1)
    .height(160)
    .padding(16)
    .backgroundColor($r('sys.color.comp_background_list_card'))
    .borderRadius(20)
    .justifyContent(FlexAlign.Center)
    .alignItems(HorizontalAlign.Center)
    .scale({ x: this.cardAnimateIn ? 1 : 0.9, y: this.cardAnimateIn ? 1 : 0.9 })
    .opacity(this.cardAnimateIn ? 1 : 0)
    .translate({ y: this.cardAnimateIn ? 0 : 20 })
    .animation({
      duration: 350,
      curve: Curve.EaseOut,
      delay: 80
    })
    .onClick(() => {
      this.showMenuSheet = false;
      this.routerModule.pushPathByName('ToolPage', null);
    })
  }

  // ËÆæÁΩÆÈïøÊù°Âç°Áâá
  @Builder
  SettingCardBuilder() {
    Column() {
      // ÂõæÊ†áÂå∫Âüü
      Column() {
        Image($r('app.media.ic_settings'))
          .width(32)
          .height(32)
          .fillColor($r('sys.color.font_primary'))
      }
      .width(56)
      .height(56)
      .backgroundColor($r('sys.color.comp_background_tertiary'))
      .borderRadius(16)
      .justifyContent(FlexAlign.Center)
      .margin({ bottom: 12 })

      Text('ËÆæÁΩÆ')
        .fontSize(16)
        .fontWeight(FontWeight.Medium)
        .fontColor($r('sys.color.font_primary'))
        .margin({ bottom: 4 })

      Text('ÊåØÂä® ¬∑ Èü≥Êïà ¬∑ ËØ≠Èü≥')
        .fontSize(12)
        .fontColor($r('sys.color.font_secondary'))

      // ËÆæÁΩÆÂõæÊ†áÈ¢ÑËßà
      Row({ space: 8 }) {
        Text('üì≥').fontSize(16)
        Text('üîä').fontSize(16)
        Text('üó£Ô∏è').fontSize(16)
      }
      .margin({ top: 12 })
    }
    .layoutWeight(1)
    .height(160)
    .padding(16)
    .backgroundColor($r('sys.color.comp_background_list_card'))
    .borderRadius(20)
    .justifyContent(FlexAlign.Center)
    .alignItems(HorizontalAlign.Center)
    .scale({ x: this.cardAnimateIn ? 1 : 0.9, y: this.cardAnimateIn ? 1 : 0.9 })
    .opacity(this.cardAnimateIn ? 1 : 0)
    .translate({ y: this.cardAnimateIn ? 0 : 20 })
    .animation({
      duration: 350,
      curve: Curve.EaseOut,
      delay: 160
    })
    .onClick(() => {
      this.showMenuSheet = false;
      this.routerModule.pushPathByName('SettingPage', null);
    })
  }

  // Â§ÑÁêÜËèúÂçïÁÇπÂáª - Êâ©Â±ïÊîØÊåÅÊõ¥Â§öË∑ØÁî±
  handleMenuClick(menuId: string) {
    this.showMenuSheet = false;
    switch (menuId) {
      case 'history':
        this.routerModule.pushPathByName('HistoryResult', null);
        break;
      case 'tool':
        this.routerModule.pushPathByName('ToolPage', null);
        break;
      case 'setting':
        this.routerModule.pushPathByName('SettingPage', null);
        break;
      case 'date_interval':
        this.routerModule.pushPathByName('DateIntervalPage', null);
        break;
      case 'date_calc':
        this.routerModule.pushPathByName('DateCalculationPage', null);
        break;
      case 'bmi':
        this.routerModule.pushPathByName('BmiHome', null);
        break;
      case 'exchange':
        this.routerModule.pushPathByName('ExchangeRateCalculatorPage', null);
        break;
      case 'about':
        this.routerModule.pushPathByName('SettingPage', null);
        break;
    }
  }

  @Builder
  ResultBuilder() {
    Row() {
      Column() {
        Scroll(this.scrollerExpression) {
          Text(this.expression)
            .textStyle()
            .fontSize(new BreakpointModel<number>({
              [BreakpointTypeEnum.TABLET_LANDSCAPE]: 19,
              [BreakpointTypeEnum.LG_WIDE]: 19,
              [BreakpointTypeEnum.LG_NORMAL]: 38,
            }).getValue(this.curBreakpoint.height)).onSizeChange(() => {
            this.scrollerExpression.scrollEdge(Edge.End)
          })
        }
        .margin({
          bottom: new BreakpointModel<number>({
            [BreakpointTypeEnum.TABLET_LANDSCAPE]: 5,
            [BreakpointTypeEnum.LG_WIDE]: 5,
            [BreakpointTypeEnum.LG_NORMAL]: 10,
          }).getValue(this.curBreakpoint.height)
        })
        .width(CalcConstants.FULL_PERCENT)
        .scrollBar(BarState.Off)
        .align(Alignment.End)
        .scrollable(ScrollDirection.Horizontal)

        Scroll(this.scrollerResult) {
          Text(this.result)
            .textStyle()
            .fontSize(new BreakpointModel<number>({
              [BreakpointTypeEnum.TABLET_LANDSCAPE]: 15,
              [BreakpointTypeEnum.LG_WIDE]: 15,
              [BreakpointTypeEnum.LG_NORMAL]: 30,
            }).getValue(this.curBreakpoint.height)).onSizeChange(() => {
            this.scrollerResult.scrollEdge(Edge.End)
          })
        }
        .width(CalcConstants.FULL_PERCENT)
        .alignSelf(ItemAlign.End)
        .scrollBar(BarState.Off)
        .align(Alignment.End)
        .scrollable(ScrollDirection.Horizontal)
      }
      .width(CalcConstants.FULL_PERCENT)
      .height(CalcConstants.FULL_PERCENT)
      .alignItems(HorizontalAlign.End)
      .justifyContent(FlexAlign.End)
    }
    .height(new BreakpointModel<number>({
      [BreakpointTypeEnum.TABLET_LANDSCAPE]: 61,
      [BreakpointTypeEnum.LG_WIDE]: 61,
      [BreakpointTypeEnum.LG_NORMAL]: 121,
    }).getValue(this.curBreakpoint.height))
    .backgroundColor($r('sys.color.background_tertiary'))
    .padding({
      top: 12,
      bottom: 12,
      left: 16,
      right: 16
    })
    .borderRadius(16)
    .width(CalcConstants.FULL_PERCENT)
    .margin({ bottom: 12 })
  }

  @Builder
  HeaderInfo() {
    Row() {
      Row() {
        Column() {
          Text('Ê†áÂáÜËÆ°ÁÆóÂô®').calculatorTitleStyle()
            .fontColor(CalculatorType.StandardCalc === this.calculatorType ? $r('sys.color.font_on_primary') :
            $r('sys.color.font_tertiary'))
        }.margin({ right: 8 }).calculatorColumnStyle()
        .backgroundColor(CalculatorType.StandardCalc === this.calculatorType ?
        $r('sys.color.comp_background_emphasize') : $r('sys.color.comp_background_tertiary'))
        .onClick(() => {
          this.calculatorType = CalculatorType.StandardCalc;
          this.expression = '0';
          this.result = '0';
        })

        Column() {
          Text('ÁßëÂ≠¶ËÆ°ÁÆóÂô®').calculatorTitleStyle()
            .fontColor(CalculatorType.ScienceCalc === this.calculatorType ? $r('sys.color.font_on_primary') :
            $r('sys.color.font_tertiary'))
        }.calculatorColumnStyle()
        .backgroundColor(CalculatorType.ScienceCalc === this.calculatorType ?
        $r('sys.color.comp_background_emphasize') : $r('sys.color.comp_background_tertiary'))
        .onClick(() => {
          this.calculatorType = CalculatorType.ScienceCalc;
          this.expression = '0';
          this.result = '0';
        })

      }

      // ËèúÂçïÊåâÈíÆ (‰∏âÊù°Êù†ÂõæÊ†á) - ÁªëÂÆöÂçäÊ®°ÊÄÅÂç°ÁâáÈù¢Êùø
      Row() {
        Image($r('app.media.ic_menu'))
          .width(24)
          .height(24)
          .fillColor($r('sys.color.font_primary'))
      }
      .width(40)
      .height(40)
      .backgroundColor($r('sys.color.background_tertiary'))
      .borderRadius(20)
      .justifyContent(FlexAlign.Center)
      .scale({ x: this.menuBtnScale, y: this.menuBtnScale })
      .rotate({ z: 1, angle: this.menuBtnRotate })
      .onTouch((event: TouchEvent) => {
        if (event.type === TouchType.Down) {
          // Êåâ‰∏ãÊó∂ÔºöÂºπÊÄßÁº©Êîæ + ËΩªÂæÆÊóãËΩ¨
          animateTo({
            duration: 150,
            curve: Curve.EaseOut
          }, () => {
            this.menuBtnScale = 0.85;
            this.menuBtnRotate = -8;
          });
        } else if (event.type === TouchType.Up || event.type === TouchType.Cancel) {
          // ÊùæÂºÄÊó∂ÔºöÂºπÊÄßÂõûÂºπ
          animateTo({
            duration: 300,
            curve: Curve.Friction
          }, () => {
            this.menuBtnScale = 1;
            this.menuBtnRotate = 0;
          });
        }
      })
      .onClick(() => {
        // ÈáçÁΩÆÂä®ÁîªÁä∂ÊÄÅÔºåÊâìÂºÄÂç°ÁâáÈù¢Êùø
        this.cardAnimateIn = false;
        this.showMenuSheet = true;
      })
      .bindSheet($$this.showMenuSheet, this.MenuSheetBuilder(), {
        height: SheetSize.FIT_CONTENT,
        dragBar: false,
        showClose: false,
        backgroundColor: $r('sys.color.background_primary'),
        blurStyle: BlurStyle.COMPONENT_ULTRA_THICK,
        onAppear: () => {
          // Èù¢ÊùøÂá∫Áé∞ÂêéËß¶ÂèëÂç°ÁâáÂÖ•Âú∫Âä®Áîª
          setTimeout(() => {
            this.cardAnimateIn = true;
          }, 50);
        },
        onDisappear: () => {
          this.cardAnimateIn = false;
        }
      })
    }.justifyContent(FlexAlign.SpaceBetween).width('100%')
    .height(60).padding({ top: 10, bottom: 10 })
  }
}

@Extend(Text)
function textStyle() {
  .fontColor($r('sys.color.font_primary'))
  .maxLines(1)
}


@Extend(Text)
function calculatorTitleStyle() {
  .fontSize($r('sys.float.Body_M'))
  .maxLines(1)
}

@Extend(Column)
function calculatorColumnStyle() {
  .padding({
    top: 10,
    bottom: 10,
    left: 16,
    right: 16
  })
  .borderRadius(21)
}