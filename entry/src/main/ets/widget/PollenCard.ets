let storage = new LocalStorage();

@Entry(storage)
@Component
export struct PollenCard {
  // ä½¿ç”¨ LocalStorage èŽ·å–æ•°æ®
  @LocalStorageProp('pollenValue') pollenValue: string = '45'
  @LocalStorageProp('pollenLevel') pollenLevel: string = 'ä¸­ç­‰'
  @LocalStorageProp('cityName') cityName: string = 'å¹¿å·ž'

  build() {
    Stack() {
      // èƒŒæ™¯è‰² - é€‚é…æµ…è‰²/æ·±è‰²æ¨¡å¼
      Column()
        .width('100%')
        .height('100%')
        .backgroundColor($r('app.color.card_background'))

      // å·¦ä¸Šè§’ï¼šä½ç½®å›¾æ ‡ + åŸŽå¸‚å
      Row() {
        Text('ðŸ“')
          .fontSize(14)
          .fontColor('#666666')
        Text(this.cityName)
          .fontSize(14)
          .fontColor('#666666')
          .margin({ left: 4 })
      }
      .position({ x: 12, y: 12 })

      // ä¸­å¿ƒï¼šèŠ±ç²‰æµ“åº¦æ•°å€¼
      Column({
        space: 2
      }) {
        Text(this.pollenValue)
          .fontSize(50)
          .fontWeight(FontWeight.Bold)
          .fontColor('#4CAF50')
          .lineHeight(56)

        // æ•°å€¼ä¸‹æ–¹ï¼šå•ä½
        Text('ç²’/kmÂ³')
          .fontSize(12)
          .fontColor('#757575')
      }
      .alignItems(HorizontalAlign.Center)
      .justifyContent(FlexAlign.Center)
      .position({ x: '50%', y: '45%' })
      .translate({ x: '-50%', y: '-50%' })

      // åº•éƒ¨ï¼šé£Žé™©ç­‰çº§èƒ¶å›Š
      Text(this.pollenLevel)
        .fontSize(14)
        .fontColor('#1A1A1A') // ä½¿ç”¨æ·±è‰²æ–‡å­—ç¡®ä¿å¯¹æ¯”åº¦
        .backgroundColor(this.pollenLevel === 'æžé«˜' ? '#F44336' : (this.pollenLevel === 'ä¸­ç­‰' ? '#FFC107' : '#CDDC39'))
        .padding({ left: 16, right: 16, top: 6, bottom: 6 })
        .borderRadius(50)
        .position({ x: '50%', y: '85%' })
        .translate({ x: '-50%' })
    }
    .width('100%')
    .height('100%')
    .borderRadius(12)
    .clip(true)
    .onClick(() => {
      postCardAction(this, {
        action: 'router',
        abilityName: 'EntryAbility',
        params: {
          targetPage: 'index'
        }
      });
    })
  }
}
