---
trigger: always_on
---
## HarmonyOS NEXT API 20 å¼€å‘è§„èŒƒ

### çŸ¥è¯†åº“ç®¡ç†
- å·²éªŒè¯æ–¹æ¡ˆ â†’ å†™å…¥ çŸ¥è¯†åº“.md
- å¾…éªŒè¯æ–¹æ¡ˆ â†’ å†™å…¥ çŸ¥è¯†åº“_ä¸­è½¬ç«™.md
- åªè¿½åŠ ä¸åˆ é™¤ï¼ˆé™¤éæ˜ç¡®è¿‡æ—¶ï¼‰
- ç”¨æˆ·ç¡®è®¤"æ„å»ºæˆåŠŸ/ç™»è®°å§"åæ‰èƒ½æ›´æ–°

### 3-Strike è§„åˆ™
åŒä¸€é—®é¢˜å°è¯•3æ¬¡å¤±è´¥åï¼šåœæ­¢ â†’ å†™å…¥å½“å‰é—®é¢˜.md â†’ å‘ŠçŸ¥ç”¨æˆ·é—®CodeGenie

### ç¦æ­¢æ“ä½œ
- ä¸æ‰§è¡Œæ„å»ºå‘½ä»¤
- ä¸åˆ é™¤çŸ¥è¯†åº“å·²éªŒè¯å†…å®¹
- ä¸åœ¨ backup/ ç›®å½•ä¿®æ”¹æ–‡ä»¶

### ğŸš¨ æ–‡æ¡£æ•´ç†ç¡¬è§„åˆ™ï¼ˆå¿…é¡»éµå®ˆï¼‰
**æ ¸å¿ƒåŸåˆ™**ï¼šå…ˆè½¬ç§»ï¼Œç¡®è®¤æˆåŠŸåå†åˆ é™¤

**æ•´ç†æµç¨‹**ï¼š
1. ç¬¬ä¸€æ­¥ï¼šè½¬ç§»å†…å®¹åˆ°å¯¹åº”æ–‡ä»¶ï¼ˆå¼€å‘æ—¥å¿—.mdã€çŸ¥è¯†åº“/åˆ†ç±»æ–‡ä»¶.mdã€é—®é¢˜è®°å½•.mdï¼‰
2. ç¬¬äºŒæ­¥ï¼šç¡®è®¤è½¬ç§»æˆåŠŸï¼ˆæ£€æŸ¥ç›®æ ‡æ–‡ä»¶å­˜åœ¨ä¸”å†…å®¹å®Œæ•´ï¼‰
3. ç¬¬ä¸‰æ­¥ï¼šåˆ é™¤åŸå†…å®¹ï¼ˆåªæœ‰ç¡®è®¤è½¬ç§»æˆåŠŸåæ‰èƒ½åˆ é™¤ï¼Œä¿ç•™é“¾æ¥ï¼‰

**ç¦æ­¢æ“ä½œ**ï¼š
- âŒ ç¦æ­¢æœªè½¬ç§»å°±åˆ é™¤
- âŒ ç¦æ­¢è½¬ç§»æœªç¡®è®¤å°±åˆ é™¤
- âŒ ç¦æ­¢ä¸€æ¬¡æ€§åˆ é™¤å¤§é‡å†…å®¹è€Œä¸éªŒè¯

### ğŸ“Š æ–‡æ¡£å¥åº·åº¦æ£€æµ‹
è¯»å–æŒ‡å¯¼æ–‡æ¡£æ—¶ï¼Œå¦‚æœå‘ç°è¡Œæ•°è¿‡å¤šï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦éœ€è¦æ•´ç†ã€‚
- çŸ¥è¯†åº“.md > 500è¡Œ â†’ å»ºè®®æ•´ç†
- çŸ¥è¯†åº“_ä¸­è½¬ç«™.md > 300è¡Œ â†’ å»ºè®®æ•´ç†
- å½“å‰é—®é¢˜.md > 100è¡Œ â†’ å»ºè®®æ•´ç†
- CLAUDE.md > 600è¡Œ â†’ å»ºè®®æ•´ç†
- é—®é¢˜è®°å½•.md > 200è¡Œ â†’ å»ºè®®æ•´ç†

### ArkTS è‡´å‘½è¯­æ³•
- catchå­å¥ç¦æ­¢ç±»å‹æ³¨è§£ï¼šcatch (error) ä¸æ˜¯ catch (error: Error)
- AppStorageæ— éœ€å¯¼å…¥ï¼šç›´æ¥ç”¨å…¨å±€å¯¹è±¡
- @Builderå¿…é¡»å‚æ•°ä¼ é€’ï¼š@Builder Tab(safeBottom: number) ä¸æ˜¯ @Builder Tab()
- declare moduleå†…ç±»å‹å¿…é¡» export interface

### API 20 åºŸå¼ƒæ›¿ä»£
- getContext(this) â†’ this.getUIContext().getHostContext()
- animateTo â†’ this.getUIContext().animateTo()
- promptAction.* â†’ this.getUIContext().getPromptAction().*
- router.* â†’ this.getUIContext().getRouter().*

### æ–‡ä»¶æ“ä½œ
- åª’ä½“åº“URIï¼šfileIo.statSync(fd) ä¸æ˜¯ statSync(uri)
- URIæ ¼å¼ï¼šç”¨ fileUri.getUriFromPath(path) ä¸æ˜¯æ‰‹åŠ¨æ‹¼æ¥
- WRITE_IMAGEVIDEO æ™®é€šåº”ç”¨ä¸å¯ç”¨ï¼Œç”¨ showAssetsCreationDialog æ›¿ä»£

### èµ„æºå¿…é¡»é‡Šæ”¾
imageSource.release() / pixelMap.release() / packer.release() / fileIo.closeSync(file)

### å·²éªŒè¯é”™è¯¯æ–¹æ¡ˆï¼ˆé¿å‘ï¼‰
- SaveButton APIä¸å­˜åœ¨
- RefreshæŒ‡ç¤ºå™¨æ— æ³•éšè—
- Sheetä¸­ç›´æ¥è°ƒShareControllerä¼šå¤±æ•ˆï¼ˆéœ€å…ˆå…³Sheet+100mså»¶è¿Ÿï¼‰
- åªè®¾ç½®isStatusBarLightIconä¼šå¯¼è‡´å­—ä½“ç°è‰²ï¼ˆå¿…é¡»åŒæ—¶è®¾statusBarContentColorï¼‰

### ç¼“å­˜é—®é¢˜
ä¿®æ”¹Native/.d.tsåæŠ¥æ—§é”™è¯¯ï¼šåˆ é™¤ entry\build å† Rebuild